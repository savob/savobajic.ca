<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Oscilloscope</title>
</head>
<body>
  
<link rel="stylesheet" href="https://savobajic.ca/css/style.css">


<header>
  <h1><a style=""href="/">Savo's Site</a></h1>
</header>

<nav>
  <a class="navBar" href="/projects/">Projects</a>
  <a class="navBar" href="/about-me/">About</a>
  <a class="navBar" href="/publications/">Publications</a>
  <a class="navBar" href="/work-experience/">Work Experience</a>
  <a class="navBar" href="/volunteering/">Volunteering</a>
  <a class="navBar" href="/contact/">Contact</a>
</nav>


  <div style="margin:25px;">
  
  <h1>Oscilloscope</h1>
  <div class="subtitle"><strong>Last Modified:</strong> Tuesday, Jan 4, 2022</div>
  <div class="subtitle"><strong>Status:</strong> Completed</div>
  
  
  <div class="subtitle"><strong>Period:</strong> Feb 2019 - Mar 2019</div>
  
	
	<div class="subtitle"><strong>Client:</strong> MIE346, Analog and Digital Electronics</div> 
	<div class="subtitle"><strong>Tags:</strong> <a href="/tags/prototyping">prototyping</a> <a href="/tags/3d-printing">3D printing</a> <a href="/tags/signal-processing">signal processing</a> </div>
  
  
  
  <div class="projectcontent"><h1 id="overview">Overview</h1>
<p>In this class project I was tasked with a classmate to produce an Arduino-based oscilloscope for a PC for
signals up 20kHz with an amplitude up to ±15V. The design was developed and prototyped incrementally to
introduce new features and fulfil the obectives and constraints.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Must convert an either ±15V (1X) or ±1.5V (10X) input signal to a 0 to 5V output (to be read by the Arduino)
<ul>
<li>1X and 10X input mode to be manually selected</li>
</ul>
</li>
<li>Accept input via standard BNC connector</li>
<li>Must have a manually adjustable trigger level</li>
<li>Must have AC or DC coupling selection</li>
</ul>
<h2 id="objectives">Objectives</h2>
<ul>
<li>Use only four opamps in the design (so only one quad op-amp IC is needed)</li>
</ul>
<h2 id="takeaways">Takeaways</h2>
<p>The importance of understanding of the prototyping process. By understanding how we were going to prototype
and ultimately build our final design, we were able to tailor our designs to be easier to debug and assemble.
For example, since we were using machined copper circuit boards (as opposed to printed ones) there were no
plated through holes nor vias for signals. These had to be soldered by hand where needed. To avoid these
operations I designed our boards to keep most connections on the &ldquo;bottom&rdquo; of the board where we would solder
to, when a connection needed to be on the &ldquo;top&rdquo;, the trace would be terminated typically at the pin of some
component rather than a via.</p>
<figure>
<img src="/images/scope-traces.png" alt="Bottom trace layout on a prototype board">
<figcaption>Fig. 1 - The trace layout of one prototype board, all on one layer</figure>
</figure>
<h1 id="detail">Detail</h1>
<p>This was a semester long project I worked on with another student. We were presented a specification outlining the
desired performance characteristics of our final design which was a hobbyist oscilloscope based around an Arduino
Nano to convert an either ±15V or ±1.5V input signal to a 0 to 5V output to be read by the Arduino, complete with
an adjustable trigger level and AC or DC coupling selection. In addition to creating a design that would condition
the signal as required, we were tasked with documenting our progress and research in regular reports.</p>
<p>We began by researching existing circuits that achieved a something we needed and then combining these individual
circuits and specifying parts to make proposed solutions. This began with schematics of our designs in SPICE software
(PSPICE originally, then LTSPICE) and simulating them with different expected inputs and see if the outputs would be
what was expected.</p>
<figure>
<img src="/images/scope-report.png" alt="An exerpt from the reports">
<figcaption>Fig. 2 - An exerpt from the report</figure>
</figure>
<p>My teammate and I then refined our designs and decided on our proposed design before moving to EAGLE to design a
circuit board for a prototype of the proposed design. Knowing that these boards would not have through-plated
holes I designed for assembly by keeping all traces on the solder side of the board for the prototype.</p>
<p>Once the boards were manufactured and we collected them along with our selected parts, it was our duty to assemble
and test them using a function generator and an oscilloscope to verify our designs. Here are some photographs of
the prototype.</p>
<figure>
<img src="/images/scope-top-proto.jpg" alt="Prototype board from the top">
<img src="/images/scope-bottom-proto.jpg" alt="Prototype board from the bottom">
<figcaption>Fig. 3 and 4 - The prototype board from the top and bottom respectively</figure>
</figure>
<p>Our tests were successful, however I made the mistake of misreading a label when gathering components which led
to one of the capacitors being three orders of magnitude too large (1uF instead of 1pF), which resulting in our
low-pass filter cut-off frequency being 20Hz in tests instead of 20kHz. This being a human error, did not require
us revising our design to correct.</p>
<p>The final stage of the project was to add the Arduino and ±15V power supplies for the op-amps to the board and
design a 3D printed housing for the system. We used the suggested component values for the circuits except for
the -15V supply where we adapted a -12V design to configure it to output -15V. Below is the section of our final
report displaying the system in different configurations.</p>
<figure>
<img src="/images/scope-views.jpg" alt="Views from report">
<figcaption>Fig. 5 - A series of views from the report</figure>
</figure>
<p>This final design was also subjected to testing to verify its performance to the criteria specified at the start
of the project. Our testing was partially limited by the equipment we had (namely the range being limited to ±10V
on the function generators, preventing proper ±15V tests). Our results were not perfect, however we deemed them
appropriate given the expected use of this ‘product’ being hobbyists on low frequency signals.</p>
</div>
  
  </div>
  
  <div style="height:35px;"></div>
<div style=" position:fixed; color: white; height:35px; background-color:#757575; bottom:0px; text-align:center; width:99%">
     <p style="margin:10px; "><a style="color: white; " target="_blank" href="http://savobajic.ca/">Savo Bajic's Website</a></p>
</div>

</body>
</html>
