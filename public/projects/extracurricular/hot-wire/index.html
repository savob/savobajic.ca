<!DOCTYPE html>
<html>
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Hot Wire Foam Cutter</title>
</head>
<body>
  
<link rel="stylesheet" href=/css/style.css>


<div class="wrapper">

<header>
  <h1><a href="/">Savo's Site</a></h1>
</header>

<nav>
<div class="flex-container">

<div class="navbutton"><a href="/about-me/">About Me</a></div>
<div class="dropdown">
	<a href="/projects/">Projects</a>
	<div class="dropdown-content">
		<a href="/projects/academic/">Academic</a>
		<a href="/projects/extracurricular/">Extracurricular</a>
		<a href="/projects/personal/">Personal</a>
		<a href="/projects/work/">Work</a>
	</div>
</div>
<div class="navbutton"><a href="/publications/">Publications</a></div>
<div class="navbutton"><a href="/work-experience/">Employment</a></div>
<div class="navbutton"><a href="/volunteering/">Volunteering</a></div>
<div class="navbutton"><a href="/contact/">Contact</a></div>

<div>
</nav>


<ul class="breadcrumbs">
    <li class="breadcrumbs"><a class="subtitle" href="/">Home</a></li>
                
                    
            		 	      <li class="breadcrumbs"><a class="subtitle" href="/projects">Projects</a></li>
            		    
				        
                
                    
            		 	      <li class="breadcrumbs"><a class="subtitle" href="/projects/extracurricular">Extracurricular Projects</a></li>
            		    
				        <li class="breadcrumbs"><a class="subtitle" href="/projects/extracurricular/hot-wire">Hot Wire Foam Cutter</a></li></ul>



	
	<main>
	<section class="mainIntro">
  



	<h1>Hot Wire Foam Cutter</h1>
	<div class="introLine"></div>
	<div class="subtitle"><strong>Last Modified:</strong> Thursday, Feb 3, 2022</div>
	<div class="subtitle"><strong>Status:</strong> Complete</div>

	
		<div class="subtitle"><strong>Period:</strong> January 2021 - July 2021</div>
	

	<div class="subtitle"><strong>Client:</strong> HPVDT</div> 
	

	<div class="subtitle"><strong>Tags:</strong> <a href="/tags/cnc">cnc</a> <a href="/tags/hpvdt">HPVDT</a> </div>

	<div class="introLine"></div>

 


  </section>

  <section class="mainContent">
  <h1 id="overview">Overview</h1>
<p>For our aircraft project, HPVDT was looking to build a hot-wire cutter for foam to use in the development process of our
airfoils to make prototypes, and then the mid scale production of them when a design is set.</p>
<p>Although there was another team member that was in charge of this project overall, I aided with regards to the low-level
electronics needed. My contributions to this project was to aid in the design and assembly of the electronics system, as
well as deploying and modifying firmware on the Arduino controlled CNC to work with the control software on the PC.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Control four stepper motors</li>
<li>Receive instructions in the form of G-code from a PC over USB</li>
<li>Have limit switches for each axis</li>
</ul>
<h2 id="objectives">Objectives</h2>
<ul>
<li>Minimize cost</li>
<li>Use a common hobbyist development board for control rather than something more CNC specific</li>
</ul>
<h2 id="takeaways">Takeaways</h2>
<p>As usual the open source community has lots of projects one can use to springboard their own. Once I found a suitable base
of Grbl for the Arduino Mega with at least four axes I didn&rsquo;t need to do much coding. It was really just calibrating and
recording configuration specifics.</p>
<p>Although there would have been some undeniable satisfaction in getting to reinvent the wheel by making our own motor driver
boards, purchasing commercial ones was definitely more efficient for us by almost every measure, especially development time
which was important.</p>
<h1 id="detailed-report">Detailed Report</h1>
<p>As part of our aircraft project, HPVDT was looking to get a hot-wire cutter for foam to use in the development process of
our airfoils for prototypes, and then the mid scale production of them when a design is set. Most commercial offerings were
unsuitable for the team so it was decided to make our own from scratch.</p>
<p>A hot wire foam cutter is a basic machine in principle. There are two opposing vertical planar CNCs, between them a piece of
wire is connected and held in tension through which a current flows and heats it up. A piece of foam is placed between them
which is then cut according to the profiles drawn on each of the CNCs. We were heavily inspired by the work of others like
<a href="https://youtu.be/oIKEYM-lMWQ">How To Mechatronics</a>.</p>
<p>In terms of electronics hardware, there is not a whole lot going on. There is a central controller which sends commands to
the motor driver for each axis as needed. There is no positional feedback for each axis other than the limit switches, since
the foam does not present any meaningful resistance to the cutting motions.</p>
<h2 id="hardware-design">Hardware design</h2>
<p>The hardware design was pretty basic, owing to us selecting to use commercial modules for driving the motors. These were
controlled using three signals. One to enable the motor driver, one to set the direction, and the last to move the motor one
step in that direction. This meant that I only needed to make the controller that would receive G-code from the computer and
generate these pulses, as well as monitor the limit switches.</p>
<p>After doing some looking around I found the <a href="https://github.com/dguerizec/grbl-Mega-4axis/">grbl 4 axis project for Arduino Megas</a>
by dguerizec. It fit the description for exactly what we wanted the firmware to do, recieve G-code and control four
independent motor axes. It was designed to run off an Arduino Mega which was also a bonus since we had a few of these laying
around that we had yet to use.</p>
<p>The only hardware I &ldquo;needed&rdquo; to design was a breakout board to make it easier for us to connect everything to the Mega
without making a mistake. After digging through the firmware source and reading the documentation I deduced the pins it used
and made the following schematic.</p>
<figure>
<img src="/images/hot-wire-schematic.svg">
<figcaption>The completed schematic for the hot wire cutter (PDF version: <a href="/pdf/hotwireboard.pdf">Colour</a> / <a href="/pdf/hotwireboard-BW.pdf">BW</a>)</figcaption>
</figure>
<h2 id="layout">Layout</h2>
<p>The layout of the board was made to fit as a &ldquo;shield&rdquo; for an Arduino Mega. I did not lay the board out, I had a new team
member do this and I provided them with feedback and final approval.</p>
<figure>
<img src="/images/hot-wire-combined-layout.png">
<figcaption>The overall layout of the board</figcaption>
</figure>
<p>The top side of the board is where all the connection/breakouts to the CNC hardware are present. The filtering components
for the different inputs (axis limits and safeties) are mounted here. Emphasis was put on clearly labelling each connection
so that anyone could assemble the system without needing a schematic or intimate knowledge of the design.</p>
<figure>
<img src="/images/hot-wire-top-layout.png">
<figcaption>The layout of the top side</figcaption>
</figure>
<p>The bottom is used for a few traces and a 5V power supply pour.</p>
<figure>
<img src="/images/hot-wire-bottom-layout.png">
<figcaption>The layout of the bottom side</figcaption>
</figure>
<h2 id="assembly">Assembly</h2>
<p>Assembly of the board was simple and issue free. A stencil was used to deposit the solder paste and then I hand placed all
the surface mount components with tweezers before re-flowing. Once the surface mount work was complete, I inserted all the
headers for the Mega into a a Mega and soldered the board while mounted to ensure all the pins would be nice and
perpendicular to the surface. Then I flipped the board and added the headers for CNC hardware by hand.</p>
<figure>
<img src="/images/hot-wire-front-assembled.jpg">
<figcaption>The produced circuit board from the top</figcaption>
</figure>
<figure>
<img src="/images/hot-wire-back-assembled.jpg">
<figcaption>The produced circuit board from the bottom</figcaption>
</figure>
<p>Connecting the board to the rest of the CNC hardware was achieved using standard jumper wires for testing. I then redid some
of the wiring to use better wires and rely on fewer jumpers when we were done testing for more reliable connections.</p>
<h2 id="testing-firmware">Testing Firmware</h2>
<p>Initially everything was housed in a box so it would be easier to observe all the motors when testing the firmware.</p>
<figure>
<img src="/images/hot-wire-in-box.jpg">
<figcaption>The assembled motor electronics in a box for easy testing of firmware</figcaption>
</figure>
<p>Initially the system worked with the computer software for the foam cutters. However, the project lead decided to switch the
PC software we were using to another program that was more capable and easier to use. This resulted in one of our motors not
working at all, but the other three worked fine. Switching back to the original PC software fixed this.</p>
<p>So we figured it had to do with the commands they were issuing. Comparing the output of the two programs we discovered that
they were both issuing commands to the X, Y, Z axes - however the original program referred to the fourth axis as &ldquo;W&rdquo; while
the new program used &ldquo;A&rdquo;, so the firmware on the Mega was discarding these instructions. We were unable to change this axis
designation in the software on the PC, so I had to go and catch it in the firmware. Unfortunately I could not easily rework
the Mega&rsquo;s firmware from dguerizec, so I found another similar project that was also based on grbl but I could easily alter
to use respond to either character for the fourth axis. This was the <a href="https://github.com/fra589/grbl-Mega-5X/">grbl Mega 5X</a>
project.</p>
<p>Once we had observed the expected motions on all the motors the system was moved to a proper metal enclosure and the motors
were mounted to the CNC to see if they would work just as well once loaded. As you can see in the short video below, it was
a success!</p>
<div class="youtube">
<iframe class="youtube" src="https://www.youtube.com/embed/-uG8cDnBC7g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<h2 id="production">Production!</h2>
<p>Once the system was moving as expected with the PC&rsquo;s commands the team was good go and start cutting parts from foam.</p>
<figure>
<img src="/images/hot-wire-block-cut.jpg">
<figcaption>The cut profile still in the block</figcaption>
</figure>
<p>Once removed from the block we get a nice part.</p>
<figure>
<img src="/images/hot-wire-cut-foam.jpg">
<figcaption>The cut airfoil</figcaption>
</figure>

  </section>
  </main>
  
  <footer>
     <a href="http://savobajic.ca/">Savo Bajic's Website</a>
</footer>
</div>

</body>
</html>
